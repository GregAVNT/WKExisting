<?php function disable_default_dashboard_widgets() { remove_meta_box('dashboard_recent_comments', 'dashboard', 'core'); remove_meta_box('dashboard_incoming_links', 'dashboard', 'core'); remove_meta_box('dashboard_plugins', 'dashboard', 'core'); remove_meta_box('dashboard_quick_press', 'dashboard', 'core'); remove_meta_box('dashboard_recent_drafts', 'dashboard', 'core'); remove_meta_box('dashboard_primary', 'dashboard', 'core'); remove_meta_box('dashboard_secondary', 'dashboard', 'core'); remove_meta_box('yoast_db_widget', 'dashboard', 'normal'); } function bones_rss_dashboard_widget() { if(function_exists('fetch_feed')) { include_once(ABSPATH . WPINC . '/feed.php'); $feed = fetch_feed('http://themble.com/feed/rss/'); $limit = $feed->get_item_quantity(7); $items = $feed->get_items(0, $limit); } if ($limit == 0) echo '<div>The RSS Feed is either empty or unavailable.</div>'; else foreach ($items as $item) { ?> <h4 style="margin-bottom: 0;"> <a href="<?php echo $item->get_permalink(); ?>" title="<?php echo mysql2date(__('j F Y @ g:i a', 'bonestheme'), $item->get_date('Y-m-d H:i:s')); ?>" target="_blank"> <?php echo $item->get_title(); ?> </a> </h4> <p style="margin-top: 0.5em;"> <?php echo substr($item->get_description(), 0, 200); ?> </p> <?php } } function bones_custom_dashboard_widgets() { wp_add_dashboard_widget('bones_rss_dashboard_widget', __('Recently on Themble (Customize on admin.php)', 'bonestheme'), 'bones_rss_dashboard_widget'); } add_action('admin_menu', 'disable_default_dashboard_widgets'); function bones_login_css() { wp_enqueue_style( 'bones_login_css', get_template_directory_uri() . '/library/css/login.css', false ); } function bones_login_url() { return home_url(); } function bones_login_title() { return get_option('blogname'); } add_action( 'login_enqueue_scripts', 'bones_login_css', 10 ); add_filter('login_headerurl', 'bones_login_url'); add_filter('login_headertitle', 'bones_login_title'); function bones_custom_admin_footer() { _e('<span id="footer-thankyou">Developed by <a href="http://www.fulcrumtech.net" target="_blank">FulcrumTech, LLC</a></span>.', 'bonestheme'); } add_filter('admin_footer_text', 'bones_custom_admin_footer'); function load_admin_stuff() { wp_register_script( 'custom_admin_script', get_template_directory_uri() . '/library/js/admin-scripts.min.js', array( 'jquery' ), '1.0.0', true ); wp_enqueue_script( 'custom_admin_script' ); wp_register_style( 'custom_admin_styles', get_stylesheet_directory_uri() . '/library/css/admin.css', array(), '1.0.0', 'all' ); wp_enqueue_style( 'custom_admin_styles' ); } add_action( 'admin_enqueue_scripts', 'load_admin_stuff' ); ?>